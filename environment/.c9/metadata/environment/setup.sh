{"changed":true,"filter":false,"title":"setup.sh","tooltip":"/setup.sh","value":"echo \"\\n 1.パッケージのアップデートしました\\n\"\nsudo yum update -y\n\necho \"\\n 2.PHPのパッケージをすべてアンインストールしました\\n \"\nsudo yum -y remove php-*\n\necho \"\\n 3.amazon-linux-extrasをアップデートしました\\n \"\nsudo yum update -y amazon-linux-extras\n\necho  \"\\n 4.amazon-linux-extrasで使用中のパッケージと使えるパッケージを確認\\n \"\namazon-linux-extras\n\necho  \"\\n 5.lamp-mariadb10.2-php7.2を使用停止しました\\n \"\nsudo amazon-linux-extras disable lamp-mariadb10.2-php7.2\n\necho  \"\\n 6.PHP8.0を有効化しました\\n \"\nsudo amazon-linux-extras enable php8.0\n\necho  \"\\n 7-1.インストールするパッケージの案内があったので、表示されたコマンドを実行しました\\n \"\nyes | sudo yum clean metadata\nyes | sudo yum install php-cli php-pdo php-fpm php-mysqlnd\n\necho  \"\\n 7-2.インストールするパッケージの案内があったので、表示されたコマンドを実行しました\\n \"\nyes | sudo yum install php-cli php-common php-devel php-fpm php-gd php-mysqlnd php-mbstring php-pdo php-xml\n\necho  \"\\n 8-1.apacheの再起動しました\\n \"\nyes | sudo systemctl restart httpd.service\n\necho  \"\\n 8-2.php-fpmの再起動しました\\n \"\nyes | sudo systemctl restart php-fpm.service\n\necho  \"\\n 9.xdebugの設定を再度インストールしました\\n \"\nyes | sudo yum install php-pear php-devel\nyes | sudo pecl uninstall xdebug\nyes | sudo pecl install xdebug\n\necho  \"\\n 10.expectコマンドをインストール\\n \"\nyes | sudo yum install expect\n\necho  \"\\n 11.MariaDBデフォルト確認しました\\n \"\nsudo yum list installed | grep mariadb\n\necho  \"\\n 12.MariaDBのインストールしました\\n \"\nsudo amazon-linux-extras install mariadb10.5 -y\n\necho  \"\\n 13.Apache, MariaDBの起動しました\\n \"\nsudo systemctl start mariadb\n\necho  \"\\n 14-1.MariaDBの初期設定を自動で行なっています\\n \"\n# !/bin/sh\nexpect -c '\n    set timeout 10;\n    spawn sudo mysql_secure_installation\n    expect \"Enter current password for root (enter for none):\";\n    send \"\\n\";\n    expect \"Switch to unix_socket authentication\";\n    send \"y\\n\";\n    expect \"Set root password?\";\n    send \"y\\n\";\n    expect \"New password:\";\n    send \"root\\n\";\n    expect \"Re-enter new password:\";\n    send \"root\\n\";\n    expect \"Remove anonymous users?\";\n    send \"y\\n\";\n    expect \"Disallow root login remotely?\";\n    send \"y\\n\";\n    expect \"Remove test database and access to it?\";\n    send \"y\\n\";\n    expect \"Reload privilege tables now?\";\n    send \"y\\n\";\n    interact;'\n\n\necho  \"\\n 14-2.MaridaDBの自動起動を有効化しました\\n \"\nsudo systemctl enable mariadb\nsudo systemctl is-enabled mariadb\n\necho  \"\\n 15-1. Composerインストール（バージョン指定）しました\\n \"\ncurl -sS https://getcomposer.org/installer | php -- --version=2.3.5\n\necho  \"\\n 15-2. Composerのパスを通しました\\n \"\nsudo mv composer.phar /usr/bin/composer\n\necho  \"\\n 15-3. Composerインストールできたかチェックしました\\n \"\ncomposer\n\necho  \"\\n 16-1. Laravelプロジェクトをバージョン9指定で作成します\\n \"\ncomposer create-project \"laravel/laravel=9.*\" cms\n\necho  \"\\n 16-2. コンポーザーをアップデートしました\\n \"\nyes | sudo composer update\n\necho  \"\\n 17-1. phpMyAdminを作成する為にディレクトリ移動\\n \"\ncd cms\n\necho  \"\\n 17-2. phpMyAdminを作成する為にディレクトリ移動\\n \"\ncd public\n\necho  \"\\n 17-3. phpMyAdminをダウンロード\\n \"\nwget https://files.phpmyadmin.net/phpMyAdmin/5.1.2/phpMyAdmin-5.1.2-all-languages.zip\n\necho  \"\\n 17-4. phpMyAdminを解凍\\n \"\nunzip phpMyAdmin-5.1.2-all-languages.zip\n\necho  \"\\n 17-5. phpMyAdminのファイル名変更\\n \"\nmv phpMyAdmin-5.1.2-all-languages phpMyAdmin\n\necho  \"\\n 17-6. cms階層に戻る\\n \"\ncd ..\n\necho  \"\\n 17-7. 親階層に戻る\\n \"\ncd ..\n\necho  \"\\n 17-7. セットアップファイルの削除\\n \"\nrm setup.sh\n","undoManager":{"mark":-2,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1692423137525}